1 REM ASTRAL ATTACK
10 PRINT"{yellow}{clear}{space*14}astral attack":POKE53280,7
15 PRINT"{down*11}{space*11}{reverse on}hit any key to start{reverse off}"
20 V=53248:POKE2040,192:POKE2041,193:POKEV+21,0:POKEV+28,2:POKEV+37,2:POKEV+38,8
25 POKEV+39,3:POKEV+40,1:POKEV+23,0:POKEV+29,0:POKEV+30,0:POKEV+31,0
30 FORI=12288TO12350:READQ:POKEI,Q:NEXT
35 FORI=12352TO12414:J=PEEK(I-64):J=J-15:IFJ<0THENJ=0
36 POKEI,J
38 NEXT
40 FORI=49152TO49271:READQ:POKEI,Q:NEXT
45 GETX$:IFX$=""THEN45
50 PRINT"{clear}{down*22}{space*3}score ";:POKE53280,0:POKE53281,0
55 POKE53265,PEEK(53265)AND247:POKEV,170:POKEV+1,160:POKEV+21,1:POKEV+16,0
57 PC=18:VL=0:LR=1:GOSUB200
60 SYS(49152):FORI=1TO6
61 IFA(I,2)<>0THENA(I,3)=A(I,3)+1
62 IFP(I,1)<>0THENP(I,2)=P(I,2)+1
63 SYS(49225):NEXT
64 IFRND(1)<.5THEN66
65 GOSUB100
66 FORI=1TO6:IFA(I,3)>16ANDA(I,1)<>2THENA(I,3)=0:A(I,2)=0
67 SYS(49225):NEXT
68 IFRND(1)<.5THEN72
70 GOSUB150
72 FORI=1TO6:IFP(I,2)>16THENP(I,2)=0:P(I,1)=0
73 SYS(49225):NEXT
80 PC=INT((PEEK(V)+256*(PEEK(V+16)AND1)-23)/8)
81 IF(PEEK(V+31)AND1)=0THEN90
82 HA=0:FORI=1TO6:IFA(I,3)>=13AND(PC=A(I,2)ORA(I,2)=PC+1ORA(I,2)=PC+2)THENHA=I
84 IFP(I,2)>=13AND(PC=P(I,1)ORP(I,1)=PC+1ORP(I,1)=PC+2)THEN270
86 NEXT
88 IFHA<>0THENGOSUB250
90 FORI=1TO6:IFA(I,3)>17ANDA(I,1)=2THENM$="red asterod escaped":GOTO300
95 SYS(49225):NEXT:GOTO60
100 FORI=1TO6:IFA(I,2)<>0THEN120
110 K=INT(RND(1)*33+4):POKE1025+K,42
112 IFRND(1)<.9THEN114
113 POKE55297+K,7:A(I,2)=K+1:A(I,1)=7:RETURN
114 IFA(LR,3)<6THEN113
115 LR=I:POKE55297+K,2:A(I,2)=K+1:A(I,1)=2:RETURN
120 NEXT
130 RETURN
150 FORI=1TO6:IFP(I,1)<>0THEN170
160 K=INT(RND(1)*39):POKE1025+K,81:POKE55297+K,6:P(I,1)=K+1:RETURN
170 NEXT
180 RETURN
200 SC=SC+VL
210 PRINTCHR$(13);CHR$(145);TAB(10);SC;
220 VL=54296:W=54276:A=54277:H=54273:L=54272
222 FORI=54272TO54296:POKEI,0:NEXT
225 POKEVL,15:POKEW,33:POKEA,190
230 FORT=1TO10:POKEH,34:POKEL,75:NEXT
235 POKEH,0:POKEL,0:POKEW,0:POKEVL,0
240 RETURN
250 IFA(HA,1)=7THENVL=10:GOTO260
257 VL=50
260 GOSUB200:POKE1024+A(HA,2)+40*A(HA,3),32:A(HA,2)=0:A(HA,3)=0
265 RETURN
270 POKEV+2,PEEK(V):POKEV+3,PEEK(V+1):IFPEEK(V+16)=1THENPOKEV+16,3
272 POKEV+21,2
280 V=54296:W=54276:A=54277:H=54273:L=54272
282 FORI=54272TO54296:POKEI,0:NEXT
285 FORX=15TO0STEP-1:POKE53281,X+30:POKEV,X:POKEW,129:POKEA,15:POKEH,40
290 POKEL,200:NEXT:POKE53281,0
295 POKEW,0:POKEA,0:M$="collision with a planet!"
299 FORT=1TO1000:NEXT
300 PRINT"{clear}";:POKE53269,0:POKE53265,PEEK(53265)OR8
310 PRINTTAB(15);"{reverse on}{cyan}game over{reverse off}":PRINT"{down*11}{space*11}your score was ";SC
315 PRINTTAB(8);"{reverse on}{down*6}";M$;"{reverse off}"
320 PRINT
330 GETX$:IFX$=""THENEND
340 GOTO330
10000 DATA0,24,0,0,60,0,0,102,0,64,231,2,65,255,130,195,255,195,195,255,195
10010 DATA195,255,195,195,255,195,199,255,227,207,255,243,219,255,219
10020 DATA243,255,207,227,255,199,227,255,199,243,255,207,219,255,219
10030 DATA207,255,243,199,255,227,192,85,3,192,62,3
10100 DATA169,127,133,178,169,6,133,179,160,0,177,178,160,40,145,178,160,0,165
10110 DATA178,24,133,180,165,179,105,212,133,181,177,180,160,40,145,180,165
10120 DATA178,56,233,1,133,178,165,179,233,0,133,179,165,178,201,255,208
10130 DATA210,165,179,201,3,208,204,169,32,162,0,157,0,4,232,224,40,208,248,96
10140 DATA165,197,133,178,201,33,208,19,169,0,205,0,208,208,8,173,16,208,41
10150 DATA254,141,16,208,206,0,208,96,165,178,201,41,208,13,238,0,208,208,8,173
10160 DATA16,208,9,1,141,16,208,96
